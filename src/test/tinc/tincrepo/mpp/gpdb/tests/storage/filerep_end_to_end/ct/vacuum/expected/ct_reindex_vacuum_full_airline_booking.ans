reindex database gptest;
psql:/path/sql_file:1: NOTICE:  table "pg_class" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_statistic" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_features" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_implementation_info" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_languages" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_packages" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_parts" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_sizing" was reindexed
psql:/path/sql_file:1: NOTICE:  table "sql_sizing_profiles" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_user_mapping" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_type" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_attribute" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_proc" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_autovacuum" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_attrdef" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_constraint" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_inherits" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_index" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_operator" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_opclass" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_am" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_amop" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_amproc" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_language" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_largeobject" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_aggregate" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_stat_last_operation" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_rewrite" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_trigger" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_description" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_cast" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_namespace" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_conversion" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_depend" was reindexed
psql:/path/sql_file:1: NOTICE:  table "gp_distribution_policy" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_window" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_exttable" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly_alter_column" was reindexed
psql:/path/sql_file:1: NOTICE:  table "gp_fastsequence" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_partition" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_partition_rule" was reindexed
psql:/path/sql_file:1: NOTICE:  table "gp_relation_node" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_data_wrapper" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_table" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_server" was reindexed
psql:/path/sql_file:1: NOTICE:  table "pg_class" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_class" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_statistic" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_statistic" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_features" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_features" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_implementation_info" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_implementation_info" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_languages" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_languages" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_packages" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_packages" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_parts" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_parts" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_sizing" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_sizing" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "sql_sizing_profiles" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "sql_sizing_profiles" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_user_mapping" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_user_mapping" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_type" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_type" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_attribute" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_attribute" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_proc" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_proc" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_autovacuum" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_autovacuum" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_attrdef" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_attrdef" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_constraint" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_constraint" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_inherits" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_inherits" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_index" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_index" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_operator" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_operator" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_opclass" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_opclass" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_am" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_am" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_amop" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_amop" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_amproc" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_amproc" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_language" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_language" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_largeobject" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_largeobject" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_aggregate" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_aggregate" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_stat_last_operation" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_stat_last_operation" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_rewrite" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_rewrite" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_trigger" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_trigger" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_description" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_description" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_cast" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_cast" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_namespace" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_namespace" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_conversion" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_conversion" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_depend" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_depend" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "gp_distribution_policy" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "gp_distribution_policy" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_window" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_window" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_exttable" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_exttable" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly_alter_column" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_appendonly_alter_column" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "gp_fastsequence" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "gp_fastsequence" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_partition" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_partition" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_partition_rule" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_partition_rule" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "gp_relation_node" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "gp_relation_node" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_data_wrapper" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_data_wrapper" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_table" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_table" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_server" was reindexed  (seg1 rh55-qavm05:39100 pid=24661)
psql:/path/sql_file:1: NOTICE:  table "pg_foreign_server" was reindexed  (seg0 rh55-qavm05:39099 pid=24659)
REINDEX
vacuum full;
psql:/path/sql_file:1: NOTICE:  'VACUUM FULL' is not safe for large tables and has been known to yield unpredictable runtimes.
HINT:  Use 'VACUUM' instead.
VACUUM
create table ct_reindex_vacuum_full_test1 (i int) partition by range(i) (start(1) end(10) every(1));
psql:/path/sql_file:1: NOTICE:  Table doesn't have 'DISTRIBUTED BY' clause -- Using column named 'i' as the Greenplum Database data distribution key for this table.
HINT:  The 'DISTRIBUTED BY' clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew.
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_1" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_2" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_3" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_4" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_5" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_6" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_7" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_8" for table "ct_reindex_vacuum_full_test1"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test1_1_prt_9" for table "ct_reindex_vacuum_full_test1"
CREATE TABLE
create table ct_reindex_vacuum_full_test2 (i int) partition by range(i) (start(1) end(10) every(1));
psql:/path/sql_file:1: NOTICE:  Table doesn't have 'DISTRIBUTED BY' clause -- Using column named 'i' as the Greenplum Database data distribution key for this table.
HINT:  The 'DISTRIBUTED BY' clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew.
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_1" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_2" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_3" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_4" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_5" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_6" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_7" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_8" for table "ct_reindex_vacuum_full_test2"
psql:/path/sql_file:1: NOTICE:  CREATE TABLE will create partition "ct_reindex_vacuum_full_test2_1_prt_9" for table "ct_reindex_vacuum_full_test2"
CREATE TABLE
alter table ct_reindex_vacuum_full_test2 drop partition for (1);
ALTER TABLE
alter table ct_reindex_vacuum_full_test2 drop partition for (2);
ALTER TABLE
alter table ct_reindex_vacuum_full_test2 drop partition for (3);
ALTER TABLE
alter table ct_reindex_vacuum_full_test2 drop partition for (4);
ALTER TABLE
alter table ct_reindex_vacuum_full_test2 drop partition for (5);
ALTER TABLE
drop table ct_reindex_vacuum_full_test1;
DROP TABLE
create table ct_reindex_vacuum_full_test3(i int);
psql:/path/sql_file:1: NOTICE:  Table doesn't have 'DISTRIBUTED BY' clause -- Using column named 'i' as the Greenplum Database data distribution key for this table.
HINT:  The 'DISTRIBUTED BY' clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew.
CREATE TABLE
create table ct_reindex_vacuum_full_t1heap (c1 int, c2 char(100)) distributed by (c1);
CREATE TABLE
insert into ct_reindex_vacuum_full_t1heap select generate_series(1,100000), 'abcdefg';
INSERT 0 100000
insert into ct_reindex_vacuum_full_t1heap values (112232, 'xyz');
INSERT 0 1
delete from ct_reindex_vacuum_full_t1heap where c1 not in (1, 12, 45, 46, 112232);
DELETE 99996
